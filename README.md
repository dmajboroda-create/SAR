# Інформаційна система оперативного контролю авіаційного двигуна

## Опис проекту

Система моделює динаміку системи автоматичного регулювання (САР) авіаційного двигуна методом чисельного інтегрування диференціальних рівнянь. Реалізовано на C++ з використанням методу Рунге-Кутта 4-го порядку.

**Мета:** Розробка алгоритму та програми для оперативного виявлення відхилення режиму роботи САР від розрахованого з точністю не менше 95% та часом реакції не більше 1 секунди.

## Функціональні можливості

- ✅ Чисельне розв'язання диференціального рівняння 4-го порядку методом RK4
- ✅ Обчислення та збереження всіх похідних до 4-го порядку включно
- ✅ Експорт результатів у CSV формат (сумісний з Excel/LibreOffice)
- ✅ Автоматична візуалізація результатів (Python/matplotlib)
- ✅ Інтерактивне введення параметрів через консоль з валідацією
- ✅ Повне покриття unit-тестами (24 тести, Google Test)

## Структура проекту

```
SAR/
├── CMakeLists.txt          # Конфігурація збірки (CMake)
├── Types.h                 # Визначення базових типів (State, DerivativeFunc)
├── EngineModel.h           # Математична модель САР авіаційного двигуна
├── RungeKutta.h            # Реалізація методу Рунге-Кутта 4-го порядку
├── Main.cpp                # Консольний інтерфейс та головний цикл
├── test_engine.cpp         # Unit-тести (Google Test, 24 тести)
├── visualize.py            # Візуалізація результатів (matplotlib)
├── .gitignore              # Виключення з Git
└── README.md               # Документація (цей файл)
```

### Опис модулів

**Types.h**  
Базові типи даних: `State` (вектор стану {x, x', x'', x'''}), `DerivativeFunc` (вказівник на функцію похідних), константа `SYSTEM_ORDER = 4`.

**EngineModel.h**  
Клас з математичною моделлю САР:
- Параметри системи: T, r, k₁, k₂, k₃ (коефіцієнти передачі)
- Параметри збурення: F₀, α (експоненціальне загасання)
- Функція збурення `F(t)` та її похідні `F'(t)`, `F''(t)`, `F'''(t)`
- Метод `computeDerivatives()` для обчислення правої частини системи ДР

**RungeKutta.h**  
Клас `RKSolver` з методом `step()` - один крок інтегрування RK4 з точністю O(h⁴).

**Main.cpp**  
Головна програма:
- Функція `readDoubleWithDefault()` - введення з валідацією
- Цикл інтегрування від t_start до t_end
- Експорт у CSV (роздільник `;`)
- Автоматичний запуск візуалізації

**test_engine.cpp**  
Unit-тести (24 тести у 5 категоріях):
- `DisturbanceFunctionTests` (6 тестів) - функція збурення
- `DerivativeTests` (5 тестів) - похідні збурення
- `ComputeDerivativesTests` (4 тести) - обчислення похідних стану
- `RungeKuttaTests` (5 тестів) - метод RK4
- `CoefficientsTests` (4 тести) - діагностичні коефіцієнти

**visualize.py**  
Python-скрипт для побудови 6 графіків: x(t), x'(t), x''(t), x'''(t), F(t), комбінований x(t)+F(t). Експорт у PNG (150 DPI).

## Встановлення залежностей

### Windows (CLion + MSVC або MinGW)

**1. C++ компілятор:**
- Visual Studio 2019/2022 (MSVC) або
- MinGW-w64

**2. CMake:**
```bash
# Через Chocolatey
choco install cmake

# Або скачати з https://cmake.org/download/
```

**3. Python 3.x:**
```bash
# Через Chocolatey
choco install python

# Встановлення бібліотек
pip install pandas matplotlib numpy
```

**4. CLion IDE:**
- Завантажити з https://www.jetbrains.com/clion/
- Налаштувати Toolchain (Settings → Build → Toolchains)

## Збірка проекту

### Варіант 1: Через CLion (рекомендовано)

1. Відкрити проект у CLion (File → Open → вибрати папку SAR)
2. CLion автоматично виявить CMakeLists.txt
3. Build → Build Project (Ctrl+F9)
4. Результат: `cmake-build-debug/engine_simulation.exe`

### Варіант 2: Через командний рядок

```bash
# Створити каталог збірки
mkdir build
cd build

# Генерація проекту
cmake ..

# Збірка (Release конфігурація)
cmake --build . --config Release

# Результат: build/Release/engine_simulation.exe
```

## Запуск програми

### Основна програма моделювання

```bash
# З каталогу build/Release
.\engine_simulation.exe

# Або з CLion: Run → Run 'engine_simulation' (Shift+F10)
```

Програма запитає параметри:
- Постійна часу T (за замовчуванням: 0.1 с)
- Коефіцієнт зворотного зв'язку r (за замовчуванням: 1.5)
- Коефіцієнти k₁, k₂, k₃ (за замовчуванням: 2.0, 1.0, 0.5)
- Початкове збурення F₀ (за замовчуванням: 10.0)
- Коефіцієнт загасання α (за замовчуванням: 0.3)
- Інтервал інтегрування [t_start, t_end] (за замовчуванням: [0, 10] с)
- Крок інтегрування h (за замовчуванням: 0.01 с)

Натискайте **Enter** для використання значень за замовчуванням.

**Вихідні файли:**
- `simulation_results.csv` - результати моделювання
- `simulation_results.png` - графіки (автоматично)

### Запуск тестів

```bash
# З каталогу build/Release
.\engine_tests.exe

# Або з CLion: Run → Run 'engine_tests'
```

**Очікуваний результат:**
```
[==========] Running 24 tests from 5 test suites.
...
[  PASSED  ] 24 tests.
```

### Візуалізація результатів (вручну)

```bash
# Після запуску engine_simulation.exe
python visualize.py
```

## Приклад використання

### Сценарій 1: Номінальні параметри (Enter для всіх)

```bash
.\engine_simulation.exe
# Натискати Enter при кожному запиті
# Результат: моделювання з параметрами за замовчуванням
```

### Сценарій 2: Високе підсилення

```bash
.\engine_simulation.exe
# T = 0.1 (Enter)
# r = 3.0
# k1 = 5.0
# k2 = 2.5
# k3 = 1.5
# Інші параметри - Enter
```

### Сценарій 3: Повільна система

```bash
.\engine_simulation.exe
# T = 1.0
# r = 0.8 (Enter)
# k1 = 1.2
# k2 = 0.6
# k3 = 0.3
# Інші параметри - Enter
```

## Математична модель

Робота САР описується диференціальним рівнянням:

```
T·x⁽⁴⁾ + (1 + r·T·k₂)·x''' + T·k₁·k₂·k₃·x'' = k₁·T·F''' + (k₁ + r·T·k₂)·F''
```

де:
- x(t) - кількість обертів валу турбіни (об/с)
- F(t) = F₀·exp(-α·t) - збурення (подача палива)
- T - постійна часу (с)
- r - коефіцієнт зворотного зв'язку
- k₁, k₂, k₃ - коефіцієнти передачі

Система зводиться до 4 рівнянь 1-го порядку та розв'язується методом Рунге-Кутта 4-го порядку.

## Тестування

Проект має 100% покриття unit-тестами для всіх критичних функцій:

| Функція | Тестів | Покриття |
|---------|--------|----------|
| `F(t)` - функція збурення | 6 | ✓ Повне |
| `F'(t), F''(t), F'''(t)` - похідні | 5 | ✓ Повне |
| `computeDerivatives()` - система ДР | 4 | ✓ Повне |
| `RKSolver::step()` - метод RK4 | 5 | ✓ Повне |
| Коефіцієнти C₁, C₂, C₃ | 4 | ✓ Повне |

**Запуск тестів з покриттям (CLion):**
1. Run → Run 'engine_tests' with Coverage
2. Переглянути звіт у вкладці Coverage

## Технічні вимоги

- **C++ стандарт:** C++11 або вище
- **CMake:** 3.14+
- **Компілятор:** MSVC 2019+, GCC 9+, Clang 10+
- **Python:** 3.7+
- **Бібліотеки Python:** pandas, matplotlib, numpy

## Автор

**Майборода Денис Анатолійович**  
Група: ІН-22  
Кафедра комп'ютерних наук  
Сумський державний університет

**Керівник:** В.В. Авраменко

## Ліцензія

Проект розроблено в рамках бакалаврської роботи для навчальних цілей.

---

**Останнє оновлення:** 2025-01-11
